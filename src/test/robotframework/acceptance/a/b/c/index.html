<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="UTF-8" />
  <title>
   Summernote
  </title>
  <link href="http://netdna.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.css" rel="stylesheet" />
  <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.js">
  </script>
  <script src="http://netdna.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.js">
  </script>
  <link href="http://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.9/summernote.css" rel="stylesheet" />
  <script src="http://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.9/summernote.js">
  </script>
 </head>
 <body>
  <div id="docid" val="a/b/c/index.html">
  </div>
  <div id="summernote">
   fyufuyfuyfuy
  </div>
  <script>
   $(document).ready(function() {
        $('#summernote').summernote();
  
	$('#summernote').summernote('disable');
  });
  </script>
  <button onclick="editPage()">
   Edit Page
  </button>
  <button onclick="saveChanges()">
   Save Changes
  </button>
  <button onclick="cancelChanges()">
   Cancel Changes
  </button>
  <script>
   function editPage() {
$('#summernote').summernote('enable');
}

function cancelChanges() {
	var docid = document.getElementById("docid").getAttribute("val");
	window.location = "/" + docid;
}

function saveChanges() { 
	$('#summernote').summernote('disable');
	var markupStr = $('#summernote').summernote('code');
	var docid = document.getElementById("docid").getAttribute("val");

	$.post("/",
		docid + "\n"+markupStr,
			function(data,status){
				window.location = "/" + docid;
			});

}
  </script>
 </body>
</html>
